<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 인터페이스 위치, 인터페이스 위에는 @Mapper명시 -->
<mapper namespace="com.project.medics.clinicW.service.RentalJYMapper">
	<select id="rentallist" resultType="RentalVO">
		select * from RENTALLIST
    </select>  
    
    <select id="rentalapp" resultType="RentalVO">
    	select * from RENTALAPP
    </select>  
    
    <select id="appovalc" resultType="RentalVO">
    	select * from APPROVAL
    </select>  
    
    <insert id="insertRentalApp" parameterType="RentalVO">
        INSERT INTO APPROVAL ( LOAN_STATUS, PRO_NO, STUDENTID) 
		VALUES ( '대여신청', #{pro_No}, #{studentId})
    </insert>
    
    <update id="decreaseQuantity">
        UPDATE RENTALAPP
        SET pro_Qty = pro_Qty - #{pro_Qty}
        WHERE pro_No = #{pro_No}
    </update>
    
    <insert id="appolist" parameterType="RentalVO">
        select * from from APPROVAL
    </insert>
    
    <update id="updateRentalApp" parameterType="RentalVO">
        UPDATE APPROVAL
        SET quantity = #{quantity}, rentalDateTime = #{rentalDateTime}, phoneNumber = #{phoneNumber}
        WHERE selectedItemCode = #{selectedItemCode}
    </update>
    
    <insert id="apprabs" parameterType="RentalVO">
        select * from from APPROVAL
    </insert>
    
    <update id="listapp">
        UPDATE RENTALLIST
        SET pro_Qty = pro_Qty + #{pro_Qty}
        WHERE pro_No = #{pro_No}
    </update>
                                         
</mapper>
