<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.medics.clinicW.service.ClinicWMapper">

	<insert id="regist">
		insert into CLINICREGIST(cli_clsf_nm,
								 cli_ntc_ttl,
								 cli_ntc_cn,
								 cli_use_plc_nm,
								 cli_prgrs_hr,
								 cli-now_nope,
								 cli_man_nope,
								 cli_instr_nm )
		values( #(cli_clsf_nm),
				#(cli_ntc_ttl),
				#(cli_ntc_cn),
				#(cli_use_plc_nm),
				#(cli_prgrs_hr),
				#(cli-now_nope),
				#(cli_man_nope),
				#(cli_instr_nm))
	</insert>
	
	<select id="getPage" resultType="ClinicWVO">
		select * from CLINICREGIST
		order by cli_ntc_sn desc
	</select>
	
	<select id="getClinicWUpdate" resultType="ClinicWVO">
		select * from CLINICREGIST
		where cli_ntc_sn = #{cli_ntc_sn}
	</select>
	
	<select id="getStatus" resultType="ClinicWVO">
		select (cli_sn,
				korn_flnm,
				studentid,
				scsbjt_nm,
				mbr_eml_addr,
				idfr_telno,
				gndr_nm,
				user_brdt,
				grade,
				enrollment,
				cli_clsf_nm,
				cli_ntc_ttl,
				cli_ntc_ymd,
				cli_status) 
		from CLINICAPPLY
		where cli_sn = #{cli_sn}
		order by cli_sn desc
	</select>
	
	<select id="getReview" resultType="ClinicWVO">
		select * from CLINICREVIEW
		where cli_sn = #{cli_sn} and studentid = #{studentid}
	</select>
	
	<!-- 적용 table과 컬럼이 맞는지 확인!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- 	<select id="getDetail" resultType="ClinicWVO"> -->
<!-- 		select * from CLINICREGIST -->
<!-- 		where cli_ntc_sn = #{cli_ntc_sn} -->
<!-- 	</select> -->
	
	<!-- 클리닉신청상태와 클리닉후기작성이 둘 다 삭제될 확률도 기억 -->
	<delete id="delete">
		delete from CLINICAPPLY
		where cli_sn = #{cli_sn}
	</delete>

</mapper>