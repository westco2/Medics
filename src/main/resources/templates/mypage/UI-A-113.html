<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <style>
        .container {
            margin-bottom: 20px;
            position: relative;
        }
        .header {
            font-size: 15px;
            border-bottom: 1px solid gray;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        table {
            font-size: 10px;
            width: 100%;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #e8f3f1;
            position: sticky;
            top: 0;

        }
        button {
            padding: 5px 5px;
            font-size: 10px;
        }
        thead th {
            z-index: 1; /* 다른 요소 위에 렌더링하기 위해 z-index 지정 */
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">진료내역</div>
    <div style="max-height: 150px; overflow-y: auto;">
    <table>
        <thead>
        <tr>
            <th>진료번호</th>
            <th>진료일자</th>
            <th>주요증상</th>
            <th>약품명</th>
            <th>처방수량</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>진료번호</td>
            <td>진료일자</td>
            <td>주요증상</td>
            <td>약품명</td>
            <td>처방수량</td>
        </tr>
        <tr>
            <td>진료번호</td>
            <td>진료일자</td>
            <td>주요증상</td>
            <td>약품명</td>
            <td>처방수량</td>
        </tr>
        <tr>
            <td>진료번호</td>
            <td>진료일자</td>
            <td>주요증상</td>
            <td>약품명</td>
            <td>처방수량</td>
        </tr>
        <tr>
            <td>진료번호</td>
            <td>진료일자</td>
            <td>주요증상</td>
            <td>약품명</td>
            <td>처방수량</td>
        </tr>
        </tbody>
    </table>
        </div>
</div>

<div class="container"  style="margin-top: 50px;">
    <div class="header">대여내역</div>
    <div style="max-height: 150px; overflow-y: auto;">
    <table >
        <thead>
        <tr>
            <th>물품코드</th>
            <th>물품명</th>
            <th>물품수량</th>
            <th>예약일시</th>
            <th>반납일시</th>
            <th>승인상태</th>
            <th>대여상태</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>340128</td>
            <td>휠체어</td>
            <td>3대</td>
            <td>3월13일</td>
            <td>3월17일</td>
            <td><button>승인허가</button></td>
            <td><button>대여중</button></td>
        </tr>
        <tr>
            <td>340128</td>
            <td>휠체어</td>
            <td>3대</td>
            <td>3월13일</td>
            <td>3월17일</td>
            <td><button>승인허가</button></td>
            <td><button>대여중</button></td>
        </tr>
        <tr>
            <td>340128</td>
            <td>휠체어</td>
            <td>3대</td>
            <td>3월13일</td>
            <td>3월17일</td>
            <td><button>승인허가</button></td>
            <td><button>대여중</button></td>
        </tr>
        <tr>
            <td>340128</td>
            <td>휠체어</td>
            <td>3대</td>
            <td>3월13일</td>
            <td>3월17일</td>
            <td><button>승인허가</button></td>
            <td><button>대여중</button></td>
        </tr>

        </tbody>
    </table>
    </div>
</div>

<div class="container" style="margin-top: 50px">
    <div class="header">클리닉내역</div>
    <div style="max-height: 150px; overflow-y: auto;">
    <table>
        <thead>
        <tr>
            <th>클리닉번호</th>
            <th>클리닉분류</th>
            <th>클리닉날짜</th>
            <th>클리닉이름</th>
            <th>후기작성</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1234012</td>  <!--서버로 클리닉 번호를 받아온다-->
            <td>비만클리닉</td>
            <td>3월13일</td>
            <td>현준의 비만 클리닉</td>
            <td><button id="openPopupButton">후기작성</button></td>
        </tr>
        <tr>
            <td>1234012</td>
            <td>비만클리닉</td>
            <td>3월13일</td>
            <td>현준의 비만 클리닉</td>
            <td><button >후기작성</button></td>
        </tr>
        <tr>
            <td>1234012</td>
            <td>비만클리닉</td>
            <td>3월13일</td>
            <td>현준의 비만 클리닉</td>
            <td><button>후기작성</button></td>
        </tr>
        <tr>
            <td>1234012</td>
            <td>비만클리닉</td>
            <td>3월13일</td>
            <td>현준의 비만 클리닉</td>
            <td><button>후기작성</button></td>
        </tr>
        </tbody>
    </table>
    </div>
</div>

<div class="popup" id="reviewPopup">
    <h2>후기 작성</h2>
    <p>클리닉이름</p>
    <p>클리닉분류</p>
    <label for="rating">별점:</label><br>
    <input type="range" id="rating" name="rating" min="1" max="5"><br>

    <label for="title">제목:</label><br>
    <input type="text" id="title" name="title"><br>

    <label for="content">내용:</label><br>
    <textarea id="content" name="content" rows="4" cols="50" maxlength="500"></textarea><br>

    <button id="submitReviewButton">확인</button>
    <button id="writingcancel">취소</button>
</div>

<div class="overlay" id="overlay"></div>

<script>
    // 팝업 열기 버튼에 이벤트 리스너 추가
    document.getElementById('openPopupButton').addEventListener('click', function() {
        // 팝업과 오버레이 표시
        document.getElementById('reviewPopup').style.display = 'block';
        document.getElementById('overlay').style.display = 'block';
    });

    // 팝업 확인 버튼에 이벤트 리스너 추가
    document.getElementById('submitReviewButton').addEventListener('click', function() {
        // 입력된 정보 가져오기
        var title = document.getElementById('title').value;
        var rating = document.getElementById('rating').value;
        var content = document.getElementById('content').value;

        // 콘솔에 출력 (여기서는 콘솔에 출력하나, 이 정보를 서버로 보내서 저장할 수 있음)
        console.log('제목:', title);
        console.log('별점:', rating);
        console.log('내용:', content);

        // 팝업과 오버레이 닫기
        document.getElementById('reviewPopup').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
    });
    // 오버레이 클릭 이벤트 리스너 추가
    document.getElementById('overlay').addEventListener('click', function(event) {
        // 오버레이를 클릭한 경우에만 팝업과 오버레이 닫기
        if (event.target.id === 'overlay') {
            document.getElementById('reviewPopup').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }
    });
    document.getElementById('writingcancel').addEventListener('click', function (event){
        document.getElementById('reviewPopup').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
    })
</script>
</body>
</html>
