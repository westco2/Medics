<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<body>
<!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 -->
<!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 -->
<!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 --><!-- 권한 : 관리자 -->
	<th:block th:replace="~{./include/baselayout :: setContent( ~{ :: .div-w})}">
		<div class="div-w">
		<form name="DeleteWSForm" action="DeleteWSForm" method="post">
			<h3 style="padding-right: 71px;">신청학생정보</h3>
			<div class="search-wrap-w">
				<div class="info-search-w">
					<input type="text" id="input-w" placeholder="이름 입력">
					<button type="button" class="Btn-w" id="Btn-w">검색</button>
				</div>
			</div>
			<div class="table-wrap-w">
				<table class="head-line-w" cellpadding="0" cellspacing="0">
					<thead>
						<tr>
							<th>번호</th>
							<th>이름</th>
							<th>학번</th>
							<th>학과</th>
							<th>이메일</th>
							<th>연락처</th>
							<th>성별</th>
							<th>생년월일</th>
							<th>학년</th>
							<th>상태구분</th>
						</tr>
					</thead>
				</table>
				<div class="table-content-w" style="height: 300px;">
					<table cellpadding="0" cellspacing="0">
						<tbody class="body-line-w">
							<tr th:each="vo  : ${status}">
								<td>[[${vo.cli_sn}]]</td>
								<td>[[${vo.korn_flnm}]]</td> 
								<td>[[${vo.studentid}]]</td>
								<td>[[${vo.scsbjt_nm}]]</td>
								<td>[[${vo.mbr_eml_addr}]]</td>
								<td>[[${vo.idfr_telno}]]</td>
								<td>[[${vo.gndr_nm}]]</td>
								<td>[[${vo.user_brdt}]]</td>
								<td>[[${vo.grade}]]</td>
								<td>[[${vo.enrollment}]]</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="table-wrap-w">
					<h3 style="padding-right: 71px;">신청학생목록</h3>
					<table class="head-line-w" cellpadding="0" cellspacing="0">
						<tr>
							<th>번호</th>
							<th>이름</th>
							<th>분류</th>
							<th>제목</th>
							<th>날짜</th>
							<th>학번</th>
							<th>상태</th>
						</tr>
					</table>
				</div>
				<div class="table-content-w" style="height: 400px;">
					<table cellpadding="0" cellspacing="0">
						<tbody class="body-line-w">
							<tr th:each="vo : ${status}">
								<td>[[${vo.cli_sn}]]</td>
								<td>[[${vo.korn_flnm}]]</td>
								<td>[[${vo.cli_clsf_nm}]]</td>
								<td>[[${vo.cli_ntc_ttl}]]</td>
								<td>[[${vo.cli_ntc_ymd}]]</td>
								<td>[[${vo.studentid}]]</td>
								<td>
									<button type="submit" class="Btn-w" id="deleteBtn-w">삭제</button>
								</td> 
							</tr>
						</tbody>
					</table>
				</form>
			</div>
	</th:block>
	
	<script>
	
	/////////////////////////////////////////////
	//검색버튼(제목)
	var searchBtn = document.getElementById('Btn-w');
	searchBtn.addEventListener('click', function() {
		var searchInput = document.querySelector('#input-w').value.toLowerCase();
		var rows = document.querySelectorAll('.body-line-w tr');
		rows.forEach(function(row) {
			var titleCell = row.querySelector('td:nth-child(3)');
			var titleText = titleCell.textContent.toLowerCase();
			if (titleText.includes(searchInput)) {
				row.style.display = '';
			} else {
				row.style.display = 'none';
			}
		});
	});
	/////////////////////////////////////////////
	/////////////////////////////////////////////
	//삭제버튼
	var deleteBtn = document.getElementById("deleteBtn-w");
	deleteBtn.onclick = function() {
		event.preventDefault();
		if(confirm("삭제하시겠습니까?") == false ) {
			return;
		}
		document.DeleteWSForm.action = "DeleteWSForm";
		document.DeleteWSForm.submit();
	}
	/////////////////////////////////////////////
	
	</script>
	
</body>
</html>
